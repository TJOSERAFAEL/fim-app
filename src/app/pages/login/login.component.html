<div class="container center">
    <mat-progress-bar mode="indeterminate" *ngIf="showProgressBar"></mat-progress-bar>
    <mat-card class="mat-elevation-z2" *ngIf="!register">
        <mat-card-title>{{ 'general.login' | translate }}</mat-card-title>
        <mat-card-content>

            <form [formGroup]="formLogin">
                <p>
                    <mat-form-field>
                        <input type="text" matInput placeholder="{{ 'general.email' | translate }}" formControlName="email">
                        <mat-icon matSuffix>email</mat-icon>
                    </mat-form-field>
                </p>

                <p>
                    <mat-form-field>
                        <input type="password" matInput placeholder="{{ 'general.password' | translate }}" formControlName="password">
                        <mat-icon matSuffix>vpn_key</mat-icon>
                    </mat-form-field>
                </p>

                <p *ngIf="error" class="error">
                    {{ error }}
                </p>

                <div>
    
                    <div class="right">
                        <button (click)="doLogin()" mat-raised-button color="primary">{{ 'general.login' | translate }}</button>
                    </div>
                </div>
              

            </form>
        </mat-card-content>
    </mat-card>

    <mat-card class="mat-elevation-z2" *ngIf="register">
        <mat-card-title>{{ 'general.register' | translate }}</mat-card-title>
        <mat-card-content>

            <form [formGroup]="formRegister">
                <p>
                    <mat-form-field>
                        <input type="text" matInput placeholder="{{ 'general.name' | translate }}" formControlName="name" maxlength="50">
                    </mat-form-field>
                </p>

                <p>
                    <mat-form-field>
                        <input type="text" matInput placeholder="{{ 'general.surname' | translate }}" formControlName="surname" maxlength="50">
                    </mat-form-field>
                </p>

                <p>
                    <mat-form-field>
                        <input type="email" matInput placeholder="{{ 'general.email' | translate }}" formControlName="email" maxlength="220">
                        <mat-icon matSuffix>email</mat-icon>
                    </mat-form-field>
                </p>
                <div *ngIf="formRegister.get('email').hasError('pattern')" class="error">
                    {{ 'general.invalidEmail' | translate }}
               </div>

                <p>
                    <mat-form-field>
                        <input type="password" matInput placeholder="{{ 'general.password' | translate }}" formControlName="password" maxlength="60">
                        <mat-icon matSuffix>vpn_key</mat-icon>
                    </mat-form-field>
                </p>

                <p>
                    <mat-form-field>
                        <input type="password" matInput placeholder="{{ 'general.repeatPassword' | translate }}" formControlName="repeatPassword"  maxlength="60">
                        <mat-icon matSuffix>vpn_key</mat-icon>
                    </mat-form-field>
                </p>

                <p *ngIf="error" class="error">
                    {{ error }}
                </p>

                <div>
                    <div class="float-left">
                        <button (click)="showRegister()" mat-button color="primary">{{ 'general.back' | translate }}</button>
                    </div>
                </div>
              
            </form>
        </mat-card-content>
    </mat-card>

    <h2 class="mat-display-3 grey text-center margin-top-35"> 
        Kryzum Admin
    </h2>
</div>